
# backtrace could be in libexecinfo or in libc
conf.CHECK_FUNCS_IN('backtrace', 'execinfo', checklibc=True, headers='execinfo.h')

conf.CHECK_FUNCS('sigprocmask sigblock sigaction')

conf.CHECK_FUNCS_IN('flistxattr', 'attr', checklibc=True, headers='sys/attributes.h attr/xattr.h sys/xattr.h')

conf.CHECK_STRUCTURE_MEMBER('struct statvfs', 'f_frsize', define='HAVE_FRSIZE', headers='sys/statvfs.h')

conf.CHECK_CODE('getxattr(NULL, NULL, NULL, 0, 0, 0)',
                define='XATTR_ADDITIONAL_OPTIONS')

if conf.CONFIG_SET('HAVE_FLISTXATTR'):
    conf.DEFINE('HAVE_XATTR_SUPPORT', 1)

conf.CHECK_CODE('struct statvfs64 fsd; exit(statvfs64 (".", &fsd))',
                define='STAT_STATVFS64',
                headers='unistd.h sys/types.h sys/statvfs.h',
                local_include=False)



