
conf.CHECK_HEADERS('execinfo.h')

# backtrace could be in libexecinfo or in libc
conf.CHECK_FUNCS_IN('backtrace', 'execinfo', checklibc=True)

conf.CHECK_FUNCS('sigprocmask sigblock sigaction')

conf.CHECK_HEADERS('sys/attributes.h attr/xattr.h sys/xattr.h')
conf.CHECK_FUNCS_IN('flistxattr', 'attr', checklibc=True)

conf.CHECK_STRUCTURE_MEMBER('struct statvfs', 'f_frsize', define='HAVE_FRSIZE')

conf.CHECK_CODE('getxattr(NULL, NULL, NULL, 0, 0, 0)',
                define='XATTR_ADDITIONAL_OPTIONS')

if conf.CONFIG_SET('HAVE_FLISTXATTR'):
    conf.DEFINE('HAVE_XATTR_SUPPORT', 1)

