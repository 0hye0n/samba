#!/usr/bin/env python

bld.SAMBA_SUBSYSTEM('NDR_NBT_BUF',
	source='nbtname.c',
	deps='talloc',
	autoproto='nbtname.h'
	)


bld.SAMBA_LIBRARY('cli_nbt',
	source='lmhosts.c nbtsocket.c namequery.c nameregister.c namerefresh.c namerelease.c dns_hosts_file.c',
	public_deps='LIBNDR NDR_NBT tevent UTIL_TEVENT NDR_SECURITY samba_socket libsamba-util',
	private_library=True
	)


bld.SAMBA_BINARY('nmblookup',
	source='tools/nmblookup.c',
	manpages='man/nmblookup.1',
	deps='libsamba-hostconfig libsamba-util cli_nbt popt POPT_SAMBA netif LIBCLI_RESOLVE'
	)


bld.SAMBA_SUBSYSTEM('LIBCLI_NDR_NETLOGON',
	source='../ndr_netlogon.c',
	public_deps='LIBNDR NDR_SECURITY'
	)


bld.SAMBA_SUBSYSTEM('LIBCLI_NETLOGON',
	source='../netlogon.c',
	public_deps='libsamba-util LIBCLI_NDR_NETLOGON'
	)


bld.SAMBA_PYTHON('python_netbios',
	source='pynbt.c',
	public_deps='cli_nbt DYNCONFIG libsamba-hostconfig',
	realname='samba/netbios.so'
	)

