!==
!== PRINTER_DRIVER.txt for Samba release 1.9.18alpha13 16 Dec 1997
!==
==========================================================================
	Supporting the famous PRINTER$ share
 
 	Jean-Francois.Micouleau@utc.fr, 10/26/97

===========================================================================

Disclaimer:

	This ONLY works with Windows 95
	It does NOT work with Windows NT 4


Goal:

	When you click on a samba shared printer, you can now install the driver
	automatically onto the Windows 95 machine, as you would from an NT server.
	
How To:

	It's a three step config.
	
	First, create a new directory, where you will put the driver files, and
	make a share in smb.conf pointing to it.

	Example:
	
		[printer$]
   		  path=/usr/local/samba/printer
   		  public=yes
   		  writable=no
   		  browseable=yes

	Second, you have to build the list of the drivers required for a specific
	printer. This is the most complicated thing to do. Get the files
	'msprint.inf' and 'msprint2.inf' from Windows 95, the easiest way is to
	grab them from a working Windows 95 computer. They are usually located
	in 'c:\windows\inf'. Look in them for the printer you have. Run the new
	program 'mkprinterdef' with the file name and the printer name as
	parameters.
	Example:
		
	mkprinterdef msprint.def "Apple LaserWriter" >>/usr/local/samba/lib/printers.def
	 
	Copy also all the files into the directory you created in step 1     
	
	Third, you need to add 2 new parameters in smb.conf. One is in the
	[global] section, called 'printer driver file' pointing to the file description,
	and the other in each printer share, called 'printer driver location' pointing
	to where the client will get the drivers. Don't forget to set correctly
	the printer driver parameter to the Windows printer name.
	Example:
	
		[global]
  		  printer driver file=/usr/local/samba/lib/printers.def

		[lp]
		   comment = My old printer laser
		   browseable = yes
		   printable = yes
		   public = yes
		   writable = no
		   create mode = 0700
		   printer driver=Apple LaserWriter
		   printer driver location=\\JOKER\PRINTER$

	JOKER is in my case my computer name, and PRINTER$ is the name of the
	share created in step one.
	
	
If it doesn't work for you, don't send flame ! It worked for me. In case of
trouble don't hesitate to send me a mail with your smb.conf file and 
printers.def

