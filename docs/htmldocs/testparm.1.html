<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>testparm</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="TESTPARM.1"
></A
>testparm</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="AEN5"
></A
><H2
>Name</H2
>testparm&nbsp;--&nbsp;check an smb.conf configuration file for 
	internal correctness</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="AEN8"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>testparm</B
>  [-s] [-h] [-v] [-L &#60;servername&#62;] [-t &#60;encoding&#62;] {config filename} [hostname hostIP]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN18"
></A
><H2
>DESCRIPTION</H2
><P
>This tool is part of the <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>Samba</SPAN
>(7)</SPAN
> suite.</P
><P
><B
CLASS="COMMAND"
>testparm</B
> is a very simple test program 
	to check an <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smbd</SPAN
>(8)</SPAN
> configuration file for 
	internal correctness. If this program reports no problems, you 
	can use the configuration file with confidence that <B
CLASS="COMMAND"
>smbd
	</B
> will successfully load the configuration file.</P
><P
>Note that this is <SPAN
CLASS="emphasis"
><I
CLASS="EMPHASIS"
>NOT</I
></SPAN
> a guarantee that 
	the services specified in the configuration file will be 
	available or will operate as expected. </P
><P
>If the optional host name and host IP address are 
	specified on the command line, this test program will run through 
	the service entries reporting whether the specified host
	has access to each service. </P
><P
>If <B
CLASS="COMMAND"
>testparm</B
> finds an error in the <TT
CLASS="FILENAME"
>	smb.conf</TT
> file it returns an exit code of 1 to the calling 
	program, else it returns an exit code of 0. This allows shell scripts 
	to test the output from <B
CLASS="COMMAND"
>testparm</B
>.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN37"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>-s</DT
><DD
><P
>Without this option, <B
CLASS="COMMAND"
>testparm</B
> 
		will prompt for a carriage return after printing the service 
		names and before dumping the service definitions.</P
></DD
><DT
>-h</DT
><DD
><P
>Print usage message </P
></DD
><DT
>-L servername</DT
><DD
><P
>Sets the value of the %L macro to <VAR
CLASS="REPLACEABLE"
>servername</VAR
>.
		This is useful for testing include files specified with the 
		%L macro. </P
></DD
><DT
>-v</DT
><DD
><P
>If this option is specified, testparm 
		will also output all options that were not used in <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smb.conf</SPAN
>(5)</SPAN
> and are thus set to their defaults.</P
></DD
><DT
>-t encoding</DT
><DD
><P
>		Output data in specified encoding.
		</P
></DD
><DT
>configfilename</DT
><DD
><P
>This is the name of the configuration file 
		to check. If this parameter is not present then the 
		default <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smb.conf</SPAN
>(5)</SPAN
> file will be checked. 	
		</P
></DD
><DT
>hostname</DT
><DD
><P
>If this parameter and the following are 
		specified, then <B
CLASS="COMMAND"
>testparm</B
> will examine the <VAR
CLASS="PARAMETER"
>hosts
		allow</VAR
> and <VAR
CLASS="PARAMETER"
>hosts deny</VAR
> 
		parameters in the <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smb.conf</SPAN
>(5)</SPAN
> file to 
		determine if the hostname with this IP address would be
		allowed access to the <B
CLASS="COMMAND"
>smbd</B
> server.  If 
		this parameter is supplied, the hostIP parameter must also
		be supplied.</P
></DD
><DT
>hostIP</DT
><DD
><P
>This is the IP address of the host specified 
		in the previous parameter.  This address must be supplied 
		if the hostname parameter is supplied. </P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN87"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smb.conf</SPAN
>(5)</SPAN
></DT
><DD
><P
>This is usually the name of the configuration 
		file used by <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smbd</SPAN
>(8)</SPAN
>. 
		</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN100"
></A
><H2
>DIAGNOSTICS</H2
><P
>The program will issue a message saying whether the 
	configuration file loaded OK or not. This message may be preceded by 
	errors and warnings if the file did not load. If the file was 
	loaded OK, the program then dumps all known service details 
	to stdout. </P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN103"
></A
><H2
>VERSION</H2
><P
>This man page is correct for version 3.0 of 
	the Samba suite.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN106"
></A
><H2
>SEE ALSO</H2
><P
><SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smb.conf</SPAN
>(5)</SPAN
>, <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>smbd</SPAN
>(8)</SPAN
></P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="AEN115"
></A
><H2
>AUTHOR</H2
><P
>The original Samba software and related utilities 
	were created by Andrew Tridgell. Samba is now developed
	by the Samba Team as an Open Source project similar 
	to the way the Linux kernel is developed.</P
><P
>The original Samba man pages were written by Karl Auer. 
	The man page sources were converted to YODL format (another 
	excellent piece of Open Source software, available at <A
HREF="ftp://ftp.icce.rug.nl/pub/unix/"
TARGET="_top"
>	ftp://ftp.icce.rug.nl/pub/unix/</A
>) and updated for the Samba 2.0 
	release by Jeremy Allison.  The conversion to DocBook for 
	Samba 2.2 was done by Gerald Carter. The conversion to DocBook XML 4.2
	for Samba 3.0 was done by Alexander Bokovoy.</P
></DIV
></BODY
></HTML
>