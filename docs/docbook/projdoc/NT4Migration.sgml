<chapter id="NT4Migration">
<chapterinfo>
	&author.jht;
	<pubdate>April 3, 2003</pubdate>
</chapterinfo>

<title>Migration from NT4 PDC to Samba-3 PDC</title>

<para>
This is a rough guide to assist those wishing to migrate from NT4 domain control to
Samba-3 based domain control.
</para>

<sect1>
<title>Planning and Getting Started</title>

<para>You must use at least the following ...</para>

<sect2>
<title>Objectives</title>

<para>
Blah blah objectives here.
</para>

</sect2>
<sect2>
<title>Steps In Migration Process</title>

<para>
This is not a definitive ste-by-step process yet - just a place holder so the info 
is not lost.

1. You will have an NT4 PDC that has the users, groups, policies and profiles to be migrated
2. Samba-3 set up as a DC with netlogon share, profile share, etc.
3. Process:
	a. Create a BDC account for the samba server using NT Server Manager
		- Samba must NOT be running
	b. rpcclient NT4PDC -U Administrator%passwd
		lsaquery

		Note the SID returned by step b.

	c. net getsid -S NT4PDC -w DOMNAME -U Administrator%passwd

		Note the SID in step c.

	d. net getlocalsid

		Note the SID, now check that all three SIDS reported are the same!

	e. net rpc join -S NT4PDC -w DOMNAME -U Administrator%passwd

	f. net rpc vampire -S NT4PDC -U administrator%passwd

	g. pdbedit -l

		Note - did the users migrate?

	h. initGrps.sh DOMNAME

	i. smbgroupedit -v

		Now check that all groups are recognised

	j. net rpc campire -S NT4PDC -U administrator%passwd

	k. pdbedit -lv

		Note - check that all group membership has been migrated.


Now it is time to migrate all the profiles, then migrate all policy files.

Moe later.
</para>

</sect2>
</sect1>

<sect1>
<title>Managing Samba-3 Domain Control</title>

<para>
Lots of blah blah here.
</para>

</sect1>
</chapter>
