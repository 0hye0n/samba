<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<refentry id="smbd" lang="pl">

<refmeta>
    <refentrytitle>smbd</refentrytitle>
    <manvolnum>8</manvolnum>
</refmeta>


<refnamediv>
    <refname>smbd</refname>
    <refpurpose> serwer dostarczaj±cy klientom us³ug SMB/CIFS</refpurpose>
</refnamediv>

<refsynopsisdiv>
    <cmdsynopsis>
      <command>smbd</command>
      <arg choice="opt">-D</arg>
      <arg choice="opt">-a</arg>
      <arg choice="opt">-o</arg>
      <arg choice="opt">-P</arg>
      <arg choice="opt">-h</arg>
      <arg choice="opt">-V</arg>
      <arg choice="opt">-d poziomdebugowania</arg>
      <arg choice="opt">-l plik logu</arg>
      <arg choice="opt">-p numer portu</arg>
      <arg choice="opt">-O opcje gniazda</arg>
      <arg choice="opt">-s plik konfiguracyjny</arg>
    </cmdsynopsis>
</refsynopsisdiv>

<refsect1>
    <title>OPIS</title>

    <para>Ten program jest czê¶ci± pakietu <ulink url="samba.7.html">Samba
      </ulink>.</para>

    <para><command>smbd</command> jest demonem serwera który dostarcza us³ug
      wspó³dzielenia plików i drukarek do klientów Windows. Serwer dostarcza
      us³ugi plikowe i drukarkowe do klientów u¿ywaj±c protoko³u SMB (lub
      CIFS). Jest on kompatybilny z protoko³em LanManager i mo¿e obs³ugiwaæ
      klientów LanManager. Zaliczaj± siê do nich MSCLIENT 3.0 dla DOS,
      Windows for Workgroups, Windows 95, Windows NT, OS/2, DAVE dla Macintosh
      i smbfs dla Linux.</para>

    <para>Wyczerpuj±cy opis us³ug które serwer mo¿e dostarczyæ jest podany na
      stronie podrêcznika pliku konfiguracyjnego kontroluj±cego atrybuty tych
      us³ug (zobacz <ulink url="smb.conf.5.html"><filename>smb.conf(5)</filename>
      </ulink>. Ta strona podrêcznika nie bêdzie opisywaæ us³ug, lecz
      skoncentruje siê na administracyjnych aspektach dzia³ania serwera.</para>

    <para>Zauwa¿ proszê, ¿e istniej± znacz±ce implikacje dotycz±ce
      bezpieczeñstwa przy uruchamianiu tego serwera, i strona
      <ulink url="smb.conf.5.html"><filename>smb.conf(5)</filename></ulink>
      powinna byæ traktowana jako obowi±zkowa do przeczytania przed
      przeprowadzaniem instalacji.</para>

    <para>Sesja jest tworzona za ka¿dym razem, gdy klient tego za¿±da. Ka¿dy
      klient otrzymuje kopiê serwera na ka¿d± sesjê. Ta kopia wówczas obs³uguje
      wszystkie po³±czenia wykonane przez klienta podczas tej sesji. Gdy wszystkie
      po³±czenia z klientem s± zamkniête, kopia serwera dla tego klienta koñczy
      swoje dzia³anie.</para>

    <para>Plik konfiguracyjny i ka¿dy plik który on w³±cza (a w³a¶ciwie
      "do³±cza", przyp.t³um.) s± automatycznie prze³adowywane w ka¿dej minucie,
      je¶li siê zmieni³y. Mo¿esz wymusiæ prze³adowanie wysy³aj±c serwerowi
      sygna³ SIGHUP. Prze³adowanie pliku konfiguracyjnego nie bêdzie mia³o wp³ywu
      na po³±czenia do jakiejkolwiek us³ugi które s± ju¿ ustanowione. Albo
      u¿ytkownik bêdzie musia³ od³±czyæ siê od us³ugi, albo smbd bêdzie musia³
      byæ zabity (killed) i zrestartowany.</para>
</refsect1>

<refsect1>
    <title>OPCJE</title>

    <variablelist>
      
      <varlistentry>
	<term>-D</term>
	<listitem><para>Je¶li okre¶lony, ten parametr powoduje, ¿e serwer operuje
	    jako demon. To jest, od³±cza siebie samego (od konsoli, przyp.t³um.)
	    i uruchamia siê w tle, odbieraj±c ¿±dania na odpowiednim porcie.
	    W³±czanie serwera jako demona jest zalecanym sposobem uruchamiania
	    <command>smbd</command> dla serwerów, które dostarczaj± wiêkszych ni¿
	    "dorywczych" us³ug plikowych i drukarkowych. </para>
	  
	  <para>Domy¶lnie, serwer NIE bêdzie dzia³a³ jako demon.</para></listitem>
      </varlistentry>
      
      <varlistentry>
	<term>-a</term>
	<listitem><para>Je¶li ten parametr jest okre¶lony, ka¿de nowe po³±czenie
	    bêdzie dopisywa³o informacje do pliku logu. Tak jest domy¶lnie.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-o</term>
	<listitem><para>Je¶li ten parametr jest okre¶lony, pliki logu bêd±
	    nadpisywane podczas otwarcia. Domy¶lnie, pliki logu bêd± dopisywane.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-P</term>
	<listitem><para>Opcja pasywna. Powoduje, ¿e smbd nie generuje w sieci
	    ¿adnego ruchu. U¿ywane przez developerów tylko do debugowania.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-h</term>
	<listitem><para>Wy¶wietla informacjê pomocnicz± (u¿ycie) o <command>
	smbd</command>.</para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-V</term>
	<listitem><para>Wy¶wietla numer wersji dla <command>smbd</command>.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-d poziomdebugowania</term>
	<listitem><para>poziomdebugowania jest liczb± ca³kowit± od 0 do 10.
	    Domy³ln± warto±ci± tego parametru, je¶li nie jest okre¶lony,
	    jest zero.</para>
	  
	  <para>Im wiêksza jest to warto¶æ, tym wiêcej detali bêdzie logowanych
	    w plikach logu na temat aktywno¶ci serwera. Na poziomie 0, tylko
	    krytyczne b³êdy i powa¿ne ostrze¿enia bêd± rejestrowane. Poziom 1
	    jest rozs±dnym poziomem dla codziennego dzia³ania - generuje ma³±
	    ilo¶æ informacji na temat wykonywanych operacji.
	  </para>

	  <para>Poziomy ponad 1 bêd± generowaæ znaczne ilo¶ci informacji logu
	    i powinny byæ u¿ywane tylko podczas ¶ledzenia problemu. Poziomy
	    ponad 3 s± zaprojektowane tylko dla u¿ytku developerów i generuj±
	    OGROMNE ilo¶ci danych logu, w wiêkszo¶ci ekstremalnie zagadkowych.
	  </para>

	  <para>Zauwa¿, ¿e okre¶lanie tego parametru tutaj spowoduje, ¿e bêdzie
	    on nadrzêdny w stosunku do parametru
	    <ulink url="smb.conf.5.html#loglevel">log level</ulink> w pliku 
	    <ulink url="smb.conf.5.html">smb.conf(5)</ulink>.</para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-l plik logu</term>
	<listitem><para>Je¶li okre¶lony, <emphasis>plik logu</emphasis>
	    okre¶la nazwê pliku logu do którego komunikaty informacyjne
	    i debugowe z dzia³aj±cego serwera bêd± logowane. Wygenerowany
	    plik logu nie jest nigdy usuwany przez serwer, aczkolwiek jego
	    rozmiar mo¿e byæ kontrolowany przez opcjê
	    <ulink url="smb.conf.5.html#maxlogsize">max log size</ulink>
	    w pliku <ulink url="smb.conf.5.html">smb.conf(5)</ulink>.
	    Domy¶lna nazwa pliku logu jest okre¶lana w czasie kompilacji.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-O opcje gniazda</term>
	<listitem><para>Zobacz parametr <ulink url="smb.conf.5.html#socketoptions">
	      socket options</ulink> w pliku <ulink url="smb.conf.5.html">
	      smb.conf(5)</ulink> ¿eby dowiedzieæ siê szczegó³ów.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term>-p numer portu</term>
	<listitem><para>numer portu jest dodatni± warto¶ci± ca³kowit±.
	    Domy¶ln± warto¶ci± tego parametru, je¶li nie jest okre¶lony,
	    jest 139. </para>

	  <para>Ta liczba jest numerem portu który bêdzie u¿yty podczas
	    nawi±zywania po³±czeñ z serwerem z oprogramowania klienta.
	    Standardowym (ogólnie znanym) numerem portu dla SMB poprzez
	    TCP jest 139, st±d warto¶æ domy¶lna. Je¶li chcia³by¶ uruchomiæ
	    serwer jako zwyk³y u¿ytkownik zamiast root'a, wiêkszo¶æ systemów
	    bêdzie wymagaæ od ciebie u¿ycia numeru portu wiêkszego ni¿ 1024
	    - popro¶ administratora systemu o pomoc, je¶li jeste¶ w tej
	    sytuacji.</para>

	  <para>¯eby serwer by³ u¿yteczny dla wiêkszo¶ci klientów, je¶li
	    skonfigurujesz go na port inny ni¿ 139, bêdziesz wymaga³ us³ugi
	    przekierowania portu na porcie 139, czego detale s± nakre¶lone
	    w <filename>rfc1002.txt</filename> sekcja 4.3.5.</para>

	  <para>Ten parametr nie jest normalnie okre¶lany z wyj±tkiem
	    powy¿szej sytuacji.</para>
      </varlistentry>

      <varlistentry>
	<term>-s &lt;plik konfiguracyjny&gt;</term>
	<listitem><para>Okre¶lony plik zawiera detale konfiguracyjne wymagane
	    przez serwer. Informacje w tym pliku zawieraj± informacje
	    specyficzne dla serwera takie, jak którego pliku <filename>
	    printcap</filename> u¿yæ, jak równie¿ opisy wszystkich us³ug
	    które serwer ma dostarczaæ. Zobacz <ulink url="smb.conf.5.html">
	    smb.conf(5)</ulink> aby dowiedzieæ siê wiêcej. Domy¿lna nazwa
	    pliku konfiguracyjnego jest determinowana w czasie kompilacji.
	  </para></listitem>
      </varlistentry>
</variablelist>

</refsect1>

<refsect1>
    <title>PLIKI</title>

    <variablelist>
      <varlistentry>
	<term><filename>/etc/inetd.conf</filename></term>
	<listitem><para>Je¶li serwer ma byæ uruchamiany przez
	    meta-demona inetd, ten plik musi zawieraæ odpowiedni±
	    informacjê startow± dla meta-demona. Zobacz ni¿ej sekcjê
	    INSTALACJA.</para></listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/etc/rc</filename></term>
	<listitem><para>(lub jakikowiek skrypt inicjalizacyjny którego
	    u¿ywa twój system).</para>

	  <para>Je¶li uruchamiasz serwer jako demona przy starcie,
	    ten plik bêdzie potrzebowa³ zawieraæ odpowiedni± sekwencjê
	    startow± dla serwera. Zobacz ni¿ej sekcjê INSTALACJA.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/etc/services</filename></term>
	<listitem><para>Je¶li uruchamiasz serwer przez meta-demona <command>
	  inetd</command>, ten plik musi zawieraæ mapowanie nazwy
	  us³ugi (np. netbios-ssn) na port us³ugi (np. 139) i typ
	  protoko³u (np. tcp). Zobacz ni¿ej sekcjê INSTALACJA.
	</para></listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/usr/local/samba/lib/smb.conf</filename></term>
	<listitem><para>To jest domy¶lna lokalizacja pliku konfiguracyjnego
	  serwera <ulink url="smb.conf.5.html">smb.conf</ulink>. Inne
	  powszechne miejsca w których system instaluje ten plik to
	  <filename>/usr/samba/lib/smb.conf</filename> i <filename>
	  /etc/smb.conf</filename>.</para>

	<para>Ten plik opisuje wszystkie us³ugi które serwer ma
	  udostêpniaæ klientom. Zobacz <ulink url="smb.conf.5.html">
	  smb.conf(5)</ulink> aby uzyskaæ wiêcej informacji.</para>
      </varlistentry>
    </variablelist>
</refsect1>

<refsect1>
    <title>OGRANICZENIA</title>

    <para>W niektórych systemach <command>smbd</command> nie mo¿e zmieniaæ
      uid z powrotem na root'a po wywo³aniu setuid(). Takie systemy s±
      nazywane systemami uid "trapdoor" ("klapa", przyp.t³um.) Je¶li
      masz taki system, nie bêdziesz w stanie pod³±czyæ siê z klienta
      (takiego jak PC) jako dwóch ró¿nych u¿ytkowników jednocze¶nie.
      Próby po³±czenia drugiego u¿ytkownika bêd± w rezultacie dawa³y
      "brak dostêpu" (ang. access denied) lub podobne.</para>
</refsect1>

<refsect1>
    <title>ZMIENNE ¦RODOWISKOWE</title>

    <variablelist>
      <varlistentry>
	<term><envar>PRINTER</envar></term>
	<listitem><para>Je¶li ¿adna nazwa drukarki nie jest okre¶lona dla us³ug
	  drukowalnych, wiêkszo¶æ systemów u¿yje warto¶ci tej zmiennej
	  (lub "lp" je¶li ta zmienna nie jest zdefiniowana) jako nazwy
	  drukarki do wykorzystania. Nie jest to jednak specyficzne dla
	  serwera.</para></listitem>
      </varlistentry>
    </variablelist>
</refsect1>

<refsect1>
    <title>INSTALACJA</title>

    <para>Lokalizacja serwera i jego pliki wspieraj±ce s± w gestii
      indywidualnych administratorów systemów. W tej sytuacji, dalej
      s± tylko sugestie.</para>

    <para>Zalecane jest, aby oprogramowanie serwera by³o instalowane
      w hierarchii katalogu <filename>/usr/local/samba</filename>, w
      katalogu odczytywalnym (z prawem do odczytu, a nie czytelnym,
      przyp.t³um.) przez wszystkich, zapisywalnym tylko przez root'a.
      Sam program serwera powinien byæ wykonywalny przez wszystkich,
      jako ¿e u¿ytkownicy mog± chcieæ uruchamiaæ serwer samodzielnie
      (w tym przypadku bêdzie on oczywi¶cie dzia³a³ z ich uprawnieniami).
      Serwer NIE powinien byæ ustawiony na setuid. W niektórych systemach
      mo¿e byæ warto ustawiæ w smbd setgid dla pustej grupy. Jest tak,
      poniewa¿ niektóre systemy mog± mieæ dziurê w zabezpieczeniach w
      ramach której do powstaj±cego procesu demona mo¿e zostaæ do³±czony
      u¿ytkownik z debuggerem. Ustawienie pliku smbd na setgid na pust±
      grupê mo¿e zapobiec wykorzystaniu tej dziury. Dziura ta i
      sugerowana poprawka zosta³a potwierdzona tylko na starych wersjach
      (pre-kernel 2.0) Linuxa w czasie, gdy to by³o pisane. Mo¿liwe, ¿e
      istnieje ona tylko w Linuxie, poniewa¿ testowanie na innych
      systemach, jak dot±d, pokaza³o ¿e s± odporne.</para>

    <para>Pliki logu serwera powinny byæ wstawione do katalogu
      odczytywalnego i zapisywalnego tylko przez root'a, jako ¿e pliki
      logu mog± zawieraæ "dra¿liwe" (poufne) informacje.</para> 

    <para>Plik konfiguracyjny powinien byæ umieszczony w katalogu
      odczytywalnym i zapisywalnym tylko przez root'a, poniewa¿ plik
      konfiguracyjny kontroluje zabezpieczenia dla us³ug oferowanych
      przez serwer. Plik konfiguracyjny mo¿e byæ zrobiony jako
      odczytywalny dla wszystkich je¶li jest to po¿±dane, lecz nie jest
      to konieczne dla poprawnego funkcjonowania serwera i nie jest
      zalecane. Przyk³adowy plik konfiguracyjny <filename>"smb.conf.sample"
      </filename> jest dostarczany z ¼ród³em serwera. Mo¿e on zostaæ
      zmieniony na <filename>"smb.conf"</filename> i zmodyfikowany,
      ¿eby dopasowaæ go do twoich potrzeb.</para>

    <para>Pozosta³e notatki zak³adaj± nastêpuj±ce:

      <ItemizedList>
	<listitem><para><command>smbd</command> (program serwera)
	    zainstalowany w <filename>/usr/local/samba/bin</filename>
	  </para></listitem>

	<listitem><para><filename>smb.conf</filename> (plik konfiguracyjny)
	    zainstalowany w <filename>/usr/local/samba/lib</filename>
	  </para></listitem>

	<listitem><para>pliki logu przechowywane w <filename>
	      /var/adm/smblogs</filename></para></listitem>
      </ItemizedList>

      <para>Serwer mo¿e byæ uruchomiony albo jako demon przez u¿ytkowników
	lub przy starcie systemu, albo w trakcie ¿±dania, z meta-demona
	takiego jak <command>inetd</command>. Je¶li uruchomiony jako demon,
	serwer bêdzie zawsze gotowy, wiêc rozpoczynanie sesji bêdzie szybsze.
	Je¶li jest uruchamiany z meta-demona, trochê pamiêci bêdzie
	zaoszczêdzone i narzêdzia takie jak TCP-wrapper tcpd mog± byæ u¿yte
	dla dodatkowego zabezpieczenia. Dla powa¿nego zastosowania jako
	serwer plików jest zalecane, aby <command>smbd</command> uruchamiaæ
	jako demona.</para>

      <para>Je¶li siê zdecydowa³e¶, kontynuuj w</para>

	<itemizedlist>
	  <listitem><para>URUCHAMIANIE SERWERA JAKO DEMONA</para></listitem>
	  <listitem><para>URUCHAMIANIE SERWERA NA ¯¡DANIE.</para></listitem>
	</itemizedlist>
</refsect1>

<refsect1>
    <title>URUCHAMIANIE SERWERA JAKO DEMONA</title>

    <para>¯eby uruchomiæ serwer jako demona z linii poleceñ, po prostu
      wstaw tam opcjê <parameter>-D</parameter>. Nie ma potrzeby, ¿eby
      umieszczaæ na koñcu linii polecenia ampersand - opcja <parameter>-D
      </parameter> powoduje, ¿e serwer i tak od³±cza sam siebie od tty
      (konsoli).</para>

    <para>Ka¿dy u¿ytkownik mo¿e uruchomiæ serwer jako demona (posiadaj±c
      oczywi¶cie prawa do wykonywania). Jest to u¿yteczne do celów
      testowych i mo¿e byæ nawet u¿yteczne jako tymczasowy substytut dla
      czego¶ w rodzaju ftp. Jednak¿e, gdy jest uruchomiony w ten sposób,
      serwer bêdzie mia³ uprawnienia tylko u¿ytkownika który go uruchomi³.
    </para>

    <para>¯eby upewniæ siê, ¿e serwer jest uruchomiony jako demon za
      ka¿dym razem gdy maszyna jest w³±czana, i ¿eby upewniæ siê, ¿e
      jest uruchamiany jako root tak, ¿e mo¿e s³u¿yæ wielu klientom,
      bêdziesz potrzebowa³ zmodyfikowaæ pliki startowe systemu. W ka¿dym
      odpowiednim do tego miejscu (na przyk³ad, w <filename>/etc/rc
      </filename>), wstaw nastêpuj±c± liniê, zastêpuj±c numer portu,
      lokalizacjê pliku logu, pliku konfiguracyjnego i poziom debugowania
      jak potrzebujesz:</para>

    <para><command>/usr/local/samba/bin/smbd -D -l /var/adm/smblogs/log
	-s /usr/local/samba/lib/smb.conf</command></para>

    <para>(Powy¿sze polecenie powinno pojawiæ siê w twoim skrypcie
      inicjalizacyjnym jako pojedyncza linia. Zale¿nie od charakterystyki
      twojego terminala, mo¿e to nie wygl±daæ w taki sposób jak w tej
      stronie podrêcznika. Je¶li powy¿sze pojawia siê jako wiêcej ni¿
      jedna linia, traktuj proszê, ka¿de zakoñczenie linii lub wciêcie
      jako pojedynczy znak spacji lub TAB.)</para>

    <para>Je¶li opcje u¿yte w czasie kompilacji s± odpowiednie dla twojego
      systemu, wszystkie parametry z wyj±tkiem <parameter>-D</parameter>
      mog± byæ pominiête. Zobacz ni¿ej sekcjê OPCJE.</para>
</refsect1>

<refsect1>
    <title>URUCHAMIANIE SERWERA NA ¯¡DANIE</title>

    <para>Je¶li twój system u¿ywa meta-demona takiego jak <command>
	inetd</command>, mo¿esz zorganizowaæ twój system tak, ¿eby
      serwer smbd startowa³ za ka¿dym razem gdy jaki¶ proces bêdzie
      próbowa³ po³±czyæ siê z nim. Wymaga to szeregu zmian w plikach
      startowych maszyny. Je¶li eksperymentujesz jako zwyczajny
      u¿ytkownik zamiast root'a, bêdziesz potrzebowa³ pomocy
      administratora systemu aby zmodyfikowaæ pliki systemowe. </para>

    <para>Bêdziesz prawdopodobnie chcia³ ustawiæ serwer nazw NetBIOS
      <ulink url="nmbd.8.html"><command>nmbd</command></ulink> w tym
      samym czasie co <ulink url="smbd.8.html"><command>smbd</command>
      </ulink>. Aby to zrobiæ, odnie¶ siê do strony podrêcznika
      <ulink url="nmbd.8.html"><command>nmbd(8)</command></ulink>.
    </para>

    <para>Najpierw, upewnij siê ¿e port jest skonfigurowany w pliku
      <filename>/etc/services</filename>. Ogólnie znany numer portu
      139 powinien byæ u¿yty w miarê mo¿liwo¶ci, choæ ka¿dy port mo¿e
      byæ wykorzystany.</para>

    <para>Upewnij siê, ¿e linia podobna do poni¿szej jest w <filename>
	/etc/services</filename>:</para>

    <para><command>netbios-ssn       139/tcp</command></para>

    <para>Uwaga dla u¿ytkowników NIS/YP - mo¿ecie potrzebowaæ
      przebudowaæ mapowanie us³ug NIS zamiast zmieniaæ wasz lokalny
      plik <filename>/etc/services</filename>.</para>

    <para>Nastêpnie, wprowad¼ odpowiedni± liniê w pliku <filename>
	/etc/inetd.conf</filename> (w ma³o prawdopodobnym wypadku, w
      którym u¿ywasz meta-demona innego ni¿ inetd, jeste¶ zdany na
      siebie). Zauwa¿, ¿e pierwszy element w tej linii pasuje do nazwy
      us³ugi w <filename>/etc/services</filename>. Zast±p odpowiednie
      warto¶ci dla twojego systemu w tej linii (zobacz <command>
	inetd(8)</command>):</para>

    <para><command>netbios-ssn stream tcp nowait root /usr/local/samba/bin/smbd
	-d1 -l/var/adm/smblogs/log -s/usr/local/samba/lib/smb.conf</command></para>

    <para>(Powy¿sze powinno pojawiæ siê w <command>/etc/inetd.conf
      </command> jako pojedyncza linia. Zale¿nie od charakterystyki
      twojego terminala, mo¿e nie pojawiaæ siê w taki sposób, jak w
      tej stronie podrêcznika. Je¶li powy¿sze pojawia siê jako wiêcej
      ni¿ jedna linia, traktuj proszê, ka¿dy znak nowej linii lub wciêcie
      jako pojedyncz± spacjê lub znak TAB.)</para>

    <para>Zauwa¿, ¿e nie ma potrzeby ¿eby okre¶laæ tu numer portu,
      nawet je¶li u¿ywasz niestandardowego.</para>

    <para>Na koniec, zredaguj plik konfiguracyjny ¿eby dostarczyæ
      odpowiednich us³ug. ¯eby zacz±æ, nastêpuj±ce dwie us³ugi powinny
      byæ wszystkim czego potrzebujesz:</para>

    <screen>
      <computeroutput>
	[homes]
	  writeable = yes

	[printers]
	  writeable = no
	  printable = yes
	  path = /tmp
	  public = yes
      </computeroutput>
    </screen>  

    <para>To pozwoli ci pod³±czyæ siê do twojego katalogu domowego
      i wydrukowaæ na dowolnej drukarce wspieranej przez hosta
      (stosownie do praw u¿ytkownika).</para>
</refsect1>

<refsect1>
    <title>TESTOWANIE INSTALACJI</title>

    <para>Uruchamiaj±c serwer jako demona, uruchom go zanim
      przejdziesz dalej. Je¶li korzystasz z meta-demona, albo
      zrestartuj system, albo zabij i zrestartuj meta-demona.
      Niektóre wersje <command>inetd</command> przeczytaj± ponownie
      tabele konfiguracyjne je¶li odbior± sygna³ HUP.</para>

    <para>Je¶li nazwa twojej maszyny to "fred" a twoje imiê to
      "mary", powiniene¶ teraz byæ w stanie pod³±czyæ siê do us³ugi
      <filename>\\fred\mary</filename>.</para>

    <para>Aby poprawnie testowaæ i eksperymentowaæ z serwerem,
      zalecamy korzystanie z programu smbclient (zobacz
      <ulink url="smbclient.1.html"><command>smbclient(1)</command>
      </ulink> i równie¿ pod±¿anie krokami nakre¶lonymi w pliku
      <filename>DIAGNOSIS.txt</filename> w katalogu <filename>docs/
      </filename> twojej instalacji Samby.</para>
</refsect1>

<refsect1>
    <title>WERSJA</title>

    <para>Ta strona podrecznika jest poprawna dla wersji 2.2
      pakietu Samba.</para>
</refsect1>

<refsect1>
    <title>DIAGNOSTYKA</title>

    <para>Wiêkszo¶æ diagnostyki wydawanej przez serwer jest logowana
      w okre¶lonym pliku logu. Nazwa pliku logu jest okre¶lana w
      czasie kompilacji, lecz mo¿e byæ uniewa¿niona z linii poleceñ.
    </para>

    <para>Liczba i natura dostêpnych informacji diagnostycznych
      zale¿y od poziomu debugowania u¿ywanego przez przez serwer.
      Je¶li masz problemy, ustaw poziom debugowania na 3 i reu¿ytkuj
      pliki logu.</para>

    <para>Wiêkszo¶æ komunikatów mówi sama za siebie. Niestety, w czasie
      gdy ta strona podrêcznika jest tworzona, dostêpnych jest zbyt
      wiele informacji diagnostycznych w kodzie ¼ród³owym, aby
      zagwarantowaæ opisanie ka¿dej z osobna. Na tym etapie twoim
      najlepszym sposobem jest nadal grep'owanie kodu ¼ród³owego i
      sprawdzanie warunków, które doprowadzi³y do powstania komunikatu
      który widzisz.</para>
</refsect1>

<refsect1>
    <title>SYGNA£Y</title>

    <para>Wys³anie sygna³u SIGHUP do smbd spowoduje, ¿e prze³aduje od
      swój plik konfiguracyjny <filename>smb.conf</filename> w ci±gu
      krótkiego okresu czasu.</para>

    <para>Aby wy³±czyæ proces smbd u¿ytkownika jest zalecanym, aby
      <emphasis>NIE</emphasis> u¿ywaæ sygna³u <command>SIGKILL (-9)
      </command>, chyba ¿e jako ostateczno¶ci, jako ¿e to mo¿e pozostawiæ
      obszar wspó³dzielonej pamiêci w niespójnym stanie. Bezpiecznym
      sposobem na zakoñczenie smbd jest wys³anie mu sygna³u SIGTERM
      (-15) i zaczekanie, a¿ "umrze sam".</para>

    <para>Poziom debugowania smbd mo¿e byæ zwiêkszony przez u¿ycie
      sygna³u SIGUSR2 (<command>kill -USR2 &lt;smbd-pid&gt;</command>)
      i zmniejszony sygna³em SIGUSR2 (<command>kill -USR2 &lt;smbd-pid&gt;
      </command>). Taka mo¿liwo¶æ istnieje po to, ¿eby mo¿na by³o
      diagnozowaæ przej¶ciowe problemy, ca³y czas dzia³aj±c z normalnie
      niskim poziomem logu.</para>

    <para>Zauwa¿, ¿e w miarê jak przechwytywanie sygna³u wysy³a zapis
      informacji debuguj±cych, nie s± one rozprowadzane w smbd. Zatem
      powiniene¶ poczekaæ, a¿ smbd bêdzie w stanie oczekiwania na
      nadchodz±ce smb zanim wydasz sygna³. Jest mo¿liwe, aby zabezpieczaæ
      przechwytywanie przez odblokowanie sygna³ów przed wywo³aniem
      selekcjonuj±cym i zablokowanie ich po nim, tym niemniej
      wp³ynê³oby to na osi±gi.</para>
</refsect1>

<refsect1>
    <title>ZOBACZ TE¯</title>

    <para>hosts_access(5),<command>inetd(8)</command>,
      <ulink url="nmbd.8.html"><command>nmbd(8)</command></ulink>,
      <ulink url="smb.conf.5.html"><filename>smb.conf(5)</filename></ulink>,
      <ulink url="smbclient.1.html"><command>smbclient(1)</command></ulink>,
      <ulink url="testparm.1.html"><command>testparm(1)</command></ulink>,
      <ulink url="testprns.1.html"><command>testprns(1)</command></ulink>,
      i Internetowe RFC <filename>rfc1001.txt</filename>, <filename>
	rfc1002.txt</filename>. Dodatkowo, specyfikacja CIFS (poprzednio SMB)
      jest dostêpna jako link ze strony: <ulink url="http://samba.org/cifs/">
	http://samba.org/cifs/</ulink>.</para>
</refsect1>

<refsect1>
    <title>AUTOR</title>

    <para>Pierwotnie, Samba i zwi±zane z ni± oprogramowanie by³y stworzone
      przez Andrew Tridgella. Samba jest teraz rozwijana przez Zespó³ Samba
      jako projekt Open Source podobnie jak j±fro Linux.</para>

    <para>Pierwotnie, strony podrêcznika Samba zosta³y napisane przez Karla
      Auera. Kody ¼rod³owe tych stron zosta³y przekonwertowane do formatu
      YODL (kolejny ¶wietny kawa³ek oprogramowania Open Source dostêpny
      na <ulink url="ftp://ftp.icce.rug.nl/pub/unix/">
      ftp://ftp.icce.rug.nl/pub/unix/</ulink>) i zaktualizowane do wydania
      2.0 samby przez Jeremy Allisona. Konwersja do DocBook zosta³a wykonana
      przez Geralda Cartera. T³umaczenie na jêzyk polski i konwersjê polskiej
      wersji do DocBook wykona³ Rafa³ Szcze¶niak.</para>
</refsect1>

</refentry>
