<!DOCTYPE refentry PUBLIC "-//OASIS//DTD DocBook V4.1//EN">
<refentry ID="nmbd" lang="pl">

<refmeta>
    <refentrytitle>nmbd</refentrytitle>
    <manvolnum>8</manvolnum>
</refmeta>


<refnamediv>
    <refname>nmbd</refname>
    <refpurpose> Serwer nazw NetBIOS dostarczaj±cy poprzez IP us³ugi nazewnictwa
NetBIOS dla klientów</refpurpose>
</refnamediv>

<refsynopsisdiv>
    <cmdsynopsis>
      <command>nmbd</command>
      <arg choice="opt">-D</arg>
      <arg choice="opt">-a</arg>
      <arg choice="opt">-o</arg>
      <arg choice="opt">-h</arg>
      <arg choice="opt">-V</arg>
      <arg choice="opt">-H plik lmhosts</arg>
      <arg choice="opt">-d poziom debugowania</arg>
      <arg choice="opt">-l bazowa nazwa pliku logu</arg>
      <arg choice="opt">-n glowna nazwa NetBIOS</arg>
      <arg choice="opt">-p numer portu</arg>
      <arg choice="opt">-s plik konfiguracyjny</arg>
    </cmdsynopsis>
</refsynopsisdiv>

<refsect1>
    <title>OPIS</title>

    <para>Ten program jest czê¶ci± pakietu <ulink url="samba.7.pl.html">Samba
      </ulink>.</para>

    <para><command>nmbd</command> jest serwerem który rozumie i mo¿e
      odpowiadaæ na ¿±dania obs³ugi nazw NetBIOS poprzez IP takie, jakie s±
      tworzone przez klientów SMB/CIFS takich, jak Windows 95/98, Windows NT
      i klientów LanManager. Partycypuje równie¿ w protoko³ach przegl±dania
      które tworz± widok "Otoczenie Sieciowe" Windows.
    </para>

    <para>Klienci SMB/CIFS, kiedy startuj±, mog± chcieæ zlokalizowaæ serwer
      SMB/CIFS. To znaczy, chc± wiedzieæ jakiego numeru IP u¿ywa okre¶lony host.
    </para>

    <para>W¶ród innych us³ug, <command>nmbd</command> bêdzie nas³uchiwa³
      takich ¿±dañ i, je¶li jego w³asna nazwa NetBIOS jest wymieniona, odpowie
      adresem IP hosta na którym jest uruchomiony. Jego "w³asna nazwa NetBIOS"
      jest domy¶lnie g³ówn± nazw± DNS hosta na którym dzia³a, lecz mo¿e byæ
      narzucona opcj± <emphasis>-n</emphasis> (zobacz OPCJE poni¿ej).
      W ten sposób <command>nmbd</command> odpowie na rozg³aszane pytania o
      w³asn± nazwê(y). Dodatkowe nazwy do odpowiadania dla <command>nmbd</command>
      mog± byæ ustawione poprzez parametry w pliku konfiguracyjnym
      <ulink url="smb.conf.5.pl.html"><filename>smb.conf(5)</filename></ulink>.
    </para>

    <para><command>nmbd</command> mo¿e byæ rownie¿ u¿yty jako serwer WINS
      (Windows Interner Name Server). To w praktyce oznacza, ¿e bêdzie funkcjonowa³
      jako serwer bazy danych WINS tworz±c baze danych z ¿±dañ rejestracyjnych
      które otrzymuje i odpowiadaj±c na zapytania od klientów o nazwy. 
    </para>

    <para>Dodatkowo, <command>nmbd</command> mo¿e funkcjonowaæ jako proxy serwer
      WINS, przekazuj±cy zapytania rozg³aszane przez klientów którzy nie wiedz± jak
      rozmawiaæ protoko³em WINS z serwerem WINS.
    </para>

</refsect1>

<refsect1>
    <title>OPCJE</title>

    <variablelist>
      <varlistentry>
	<term>-D</term>
	<listitem><para>Je¶li jest okre¶lony, ten parametr powoduje, ¿e <command>
	    nmdb</command> operuje jako demon. To jest, od³±cza sie od terminala
	    i dzia³a w tle, odbieraj±c ¿±dania z odpowiedniego portu. Domy¶lnie,
	    <command>nmbd</command> NIE BÊDZIE operowa³ jako demon. <command>nmbd
	    </command> mo¿e rownie¿ byæ uruchamiany z meta-demona inetd, aczkolwiek
	    nie jest to zalecane. </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-a</term>
	<listitem><para>Je¶li ten parametr jest okre¶lony, ka¿de nowe po³±czenie
	    bêdzie dopisywa³o informacje do pliku logu. Tak jest domy¶lnie. </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-o</term>
	<listitem><para>Je¶li ten parametr jest okre¶lony, pliki logu bêd±
	    nadpisywane podczas otwarcia. Domy¶lnie, pliki te bêd± otwierane w
	    trybie dopisywania. </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-h</term>
	<listitem><para>Wypisuje informacje pomocnicz± (u¿ycie) dla <command>nmbd
	    </command>. </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-V</term>
	<listitem><para>Wypisuje numer wersji <command>nmbd</command>. </para>
	</listitem>
      </varlistentry>


      <varlistentry>
	<term>-H nazwapliku</term>
	<listitem><para>plik NetBIOS lmhosts.</para>
	  
	  <para>Plik lmhosts jest list± nazw NetBIOS i adresów IP która jest
	    ³adowana serwer <command>nmbd</command> i u¿ywana przez mechanizm
	    odwzorowania nazw <parameter>name resolve order</parameter>
	    opisany w <ulink url="smb.conf.5.pl.html"><filename>smb.conf(5)
	    </filename></ulink> do rozwi±zywania zapytañ o nazwy NetBIOS
	    potrzebne serwerowi. Zauwa¿, zawarto¶æ tego pliku <emphasis>NIE
	    </emphasis> jest u¿ywana przez <command>nmbd</command> do
	    odpowiadania na jakiekolwiek zapytania o nazwy. Dodanie linii
	    do tego pliku wp³ywa na odwzorowanie nazw NetBIOS <emphasis>TYLKO
	    </emphasis> z tego hosta.
	  </para>

	  <para>Domy¶lnie, ¶cie¿ka do tego pliku jest wkompilowana w Sambê jako
	    cze¶æ procesu jej budowania. Powszechnymi warto¶ciami domy¶lnymi s±
	    <filename>/usr/local/samba/lib/lmhosts</filename>,
	    <filename>/usr/samba/lib/lmhosts</filename> lub <filename>/etc/lmhosts
	    </filename>. Zobacz stronê podrêcznika <ulink url="lmhosts.5.pl.html">
	    <filename>lmhosts(5)</filename></ulink> ¿eby dowiedzieæ siê szczegó³ów
	    o zawarto¶æi tego pliku.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-d poziomdebugowania</term>
	<listitem><para>poziom debugowania jest liczb± ca³kowit± od 0 do 10</para>

	  <para>Domy¶ln± warto¶ci± tego parametru, je¶li nie jest okreslony, jest
	    zero. </para>

	  <para>Im wiêksza jest to warto¶æ, tym wiêcej detali bêdzie logowanych w
	    plikach logu na temat aktywno¶ci serwera. Na poziomie 0, tylko krytyczne
	    b³êdy i powa¿ne ostrze¿enia bêd± rejestrowane. Poziom 1 jest rozs±dnym
	    poziomem dla codziennego dzia³ania - generuje ma³± ilo¶æ informacji na
	    temat wykonywanych operacji.
	  </para>

	  <para>Poziomy ponad 1 bêd± generowaæ znaczne ilo¶ci informacji logu i
	    powinny byæ u¿ywane tylko podczas ¶ledzenia problemu. Poziomy ponad 3
	    s± zaprojektowane tylko dla u¿ytku developerów i generuj± OGROMNE ilo¶ci
	    danych logu, w wiêkszo¶ci ekstremalnie zagadkowych.
	  </para>

	  <para>Zauwa¿, ¿e okre¶lanie tego parametru tutaj spowoduje, ¿e bêdzie on
	  nadrzêdny w stosunku do parametru <parameter>log level</parameter> w pliku
	  <ulink url="smb.conf.5.pl.html"><filename>smb.conf(5)</filename></ulink>.
	  </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-l pliklogu</term>
	<listitem><para>Parametr <option>-l</option> okre¶la scie¿kê i bazow± nazwê
	    pliku do którego dane operacyjne z dzia³ajacego serwera nmbd bêd±
	    logowane. W³a¶ciwy plik logu jest generowany przez dopisanie rozszerzenia
	    "*.nmb" do okre¶lonej nazwy bazowej. Na przyk³ad, je¶li podan±
	    nazw± by³ "log", wtedy plik log.nmb zawiera³by dane debugowania. </para>

	  <para>Domy¶lna ¶cie¿ka pliku logu jest wkompilowana w Sambê jako cze¶æ
	  procesu budowania pakietu. Powszechnie stosowane warto¶ci to <filename>
	  /usr/local/samba/var/log.nmb</filename>, <filename>/usr/samba/var/log.nmb
	  </filename> lub <filename>/var/log/log.nmb</filename>.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-n glowna nazwa NetBIOS</term>
	<listitem><para>Ta opcja pozwala ci podaæ nazwe NetBIOS której Samba u¿ywa
	    dla siebie. Jest to identyczne z ustawieniem parametru <parameter>
	    NetBIOS name</parameter> w pliku <ulink url="smb.conf.5.pl.html"><filename>
	    smb.conf(5)</filename></ulink>, lecz spowoduje uniewa¿nienie nazwy podanej
	    w pliku <ulink url="smb.conf.5.pl.html"><filename>smb.conf(5)</filename>
	    </ulink> je¶li taka juz tam jest.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-p numer portu UDP</term>
	<listitem><para>numer portu UDP jest dodatni± warto¶ci± ca³kowit±. Ta opcja
	    zmienia domy¶lny numer portu UDP (normalnie 137) na którym <command>
	    nmbd</command> odpowiada na zapytania o nazwy. Nie u¿ywaj tej opcji chyba,
	    ¿e jeste¶ ekspertem, w którym to przypadku nie bedziesz potrzebowa³
	    pomocy ! </para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>-s plik konfiguracyjny</term>
	<listitem><para>Domy¶lna nazwa pliku konfiguracyjnego jest ustawiana w
	    trakcie budowania pakietu, typowo jako
	    <filename>/usr/local/samba/lib/smb.conf</filename>. Mo¿e to byæ jednak
	    zmienione, gdy Samba jest autokonfigurowana.</para>

	  <para>Podany plik zawiera szczegó³y konfiguracyjne wymagane przez serwer.
	  Zobacz <ulink url="smb.conf.5.pl.html"><filename>smb.conf(5)</filename></ulink>
	  aby uzyskaæ wiecej informacji.<para>
	</listitem>
      </varlistentry>
    </variablelist>

</refsect1>

<refsect1>
    <title>PLIKI</title>

    <variablelist>
      <varlistentry>
	<term><filename>/etc/inetd.conf</filename></term>
	<listitem><para>Je¶li serwer ma byæ uruchamiany przez meta-demona
	    <command>inetd</command>, ten plik musi zawieraæ odpowiedni±
	    dla niego informacjê startow±. Zobacz ni¿ej sekcjê INSTALACJA.
	  </para></listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/etc/rc</filename></term>
	<listitem><para>( lub jakikolwiek skrypt inicjalizacyjny którego
	    u¿ywa twój system).</para>

	  <para>Je¶li serwer ma byæ uruchamiany jako demon przy starcie
	    systemu, ten plik bêdzie musia³ zawieraæ odpowiedni± sekwencjê
	    startow±. Zobacz ni¿ej sekcjê INSTALACJA.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/etc/services</filename></term>
	<listitem><para>Je¶li serwer ma byæ uruchamiany przez meta-demona
	    <command>inetd</command>, ten plik musi zawieraæ mapowanie nazwy
	    us³ugi (np. netbios-ssn) na port us³ugi (np. 139) i typ protoko³u
	    (np. tcp). Zobacz ni¿ej sekcjê INSTALACJA.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term><filename>/usr/local/samba/lib/smb.conf</filename></term>
	<listitem><para>Jest to domy¶lna lokalizacja pliku konfiguracyjnego
	    serwera <ulink url="smb.conf.5.pl.html"><filename>smb.conf</filename>
	    </ulink>. Inne powszechne miejsca w których systemy instaluj± ten
	    plik to <filename>/usr/samba/lib/smb.conf</filename>
	    i <filename>/etc/smb.conf</filename>.</para>

	  <para>Gdy <command>nmbd</command> dzia³a jako serwer WINS (zobacz
	    parametr <ulink url="smb.conf.5.pl.html#winssupport">wins support</ulink>
	    na stronie <ulink url="smb.conf.5.pl.html"><filename>smb.conf(5)</filename>
	    </ulink>), bêdzie on przechowywa³ bazê danych WINS w pliku <filename>
	    wins.dat</filename> w katalogu <filename>var/locks</filename>
	    skonfigurowanym w jakimkolwiek katalogu, w którym Samba mia³a siê
	    zainstalowac.</para>

	  <para>Je¶li <command>nmbd</command> funkcjonuje jako <emphasis>browse
	      master</emphasis> (zobacz parametr <ulink url="smb.conf.5.pl.html#localmaster">
	      local master</ulink> na stronie podrêcznika <ulink url="smb.conf.pl.5.html">
	      <filename>smb.conf(5)</filename></ulink>), <command>nmbd</command>
	      bêdzie przechowywa³ baze danych przegl±dania w pliku <filename>
	      browse.dat</filename> w katalogu <filename>var/locks</filename>
	      skonfigurowanym w którymkolwiek katalogu, w którym Samba mia³a siê
	      zainstalowac.</para>
	</listitem>
      </varlistentry>
    </variablelist>
</refsect1>

<refsect1>
    <title>SYGNA£Y</title>

    <para>¯eby zatrzymaæ proces <command>nmbd</command> zalecane jest, ¿eby
      <emphasis>NIE</emphasis> u¿ywaæ sygna³u SIGKILL (-9), chyba ¿e w ostateczosci,
      jako ¿e mo¿e to zostawiæ bazê danych nazw w stanie niespójno¶ci. Prawid³owa
      droga do zatrzymania <command>nmbd</command> to wys³anie mu sygna³u SIGTERM
      (-15) i zaczekanie a¿ zakoñczy siê sam (a dok³adniej "umrze sam" ;-).
      przyp.t³um.).</para>

    <para><command>nmbd</command> zaakceptuje SIGHUP, który spowoduje, ¿e zrzuci on
      swoje listy nazw do pliku <filename>namelist.debug</filename> w katalogu
      <filename>/usr/local/samba/var/locks</filename> (lub w podkatalogu <filename>
      var/locks</filename> katalogu, w którym Samba mia³a siê zainstalowaæ). To równie¿
      spowoduje, ¿e <command>nmbd</command> zrzuci swoj± bazê danych serwera w pliku
      <filename>log.nmb</filename>.</para>

    <para>Poziom debugowania w logu nmbd mo¿e byæ zwiêkszony lub zmniejszony przy
      u¿yciu programu <ulink url="smbcontrol.1.pl.html"><command>smbcontrol</command>
      </ulink> (sygna³y SIGUSR[1|2] nie s± ju¿ u¿ywane w Samba 2.2). Jest to po to,
      aby umo¿liwiæ diagnozowanie przej¶ciowych problemów podczas gdy, normalnie
      dzia³a niski poziom logu.</para>
</refsect1>

<refsect1>
    <title>WERSJA</title>

    <para>Ta strona podrêcznika jest poprawna dla wersji 2.2 pakietu Samba.</para>

</refsect1>

<refsect1>
    <title>ZOBACZ TE¯</title>

    <para><command>inetd(8)</command>, <ulink url="smbd.8.pl.html"><command>
      smbd(8)</command></ulink>, <ulink url="smb.conf.5.pl.html"><filename>
      smb.conf(5)</filename></ulink>, <ulink url="smbclient.1.pl.html"><command>
      smbclient(1)</command></ulink>, <ulink url="testparm.1.pl.html"><command>
      testparm(1)</command></ulink>, <ulink url="tertprns.1.pl.html"><command>
      testprns(1)</command></ulink>, i Internetowe RFC <filename>rfc1001.txt
      </filename>, <filename>rfc1002.txt</filename>. Dodatkowo specyfikacja
      CIFS (poprzednio SMB) jest dostêpna jako link ze strony web:
      <ulink url="http://samba.org/cifs/">http://samba.org/cifs/</ulink>.</para>
</refsect1>

<refsect1>
    <title>AUTOR</title>

    <para>Pierwotnie, Samba i zwi±zane z ni± oprogramowanie by³y stworzone
      przez Andrew Tridgella. Samba jest teraz rozwijana przez Zespó³
      Samba jako projekt Open Source podobnie jak j±dro Linux.
    </para>

    <para>Pierwotnie, strony podrêcznika Samba zosta³y napisane przez
      Karla Auera. Kody ¼rod³owe tych stron zosta³y przekonwertowane do
      formatu YODL (kolejny ¶wietny kawa³ek oprogramowania Open Source
      dostêpny na <ulink url="ftp://ftp.icce.rug.nl/pub/unix/">
      ftp://ftp.icce.rug.nl/pub/unix/</ulink>) i zaktualizowane do wydania
      2.0 samby przez Jeremy Allisona. Konwersja do DocBook dla Samba 2.2
      zosta³a wykonana przez Geralda Cartera. T³umaczenie na jêzyk polski
      i konwersjê do DocBook polskiej wersji wykona³ Rafa³ Szcze¶niak.
    </para>

</refsect1>

</refentry>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-namecase-general:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:2
sgml-indent-data:t
sgml-parent-document:nil
sgml-exposed-tags:nil
sgml-local-catalogs:("/usr/lib/sgml/catalog")
sgml-local-ecat-files:nil
End:
-->
