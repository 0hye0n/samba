          WHATS NEW IN 1.9.18alpha14 Dec 23rd 1997
          ========================================

This is NOT a production release of Samba code.
For production servers please run Samba 1.9.17p5
or later releases in the 1.9.17 series.

In this release (1.9.18alpha14) the Domain controller 
code should not be turned on. The Domain controller 
code stream is now being developed in a separate code 
development branch. To participate in this important 
work, read the instructions on how to get the source
code for the BRANCH_NTDOM Samba branch in the document 

docs/CVS_ACCESS.txt 

available in this Samba release.

This release contains three major changes to the 
1.9.17 series and much re-written code.

The main changes are :

1). Oplock support now operational.
-----------------------------------

Samba now supports 'exclusive' and 'batch' oplocks.
These are an advanced networked file system feature
that allows clients to obtain a exclusive use of a 
file. This allows a client to cache any changes it
makes locally, and greatly improves performance.

Windows NT has this feature and prior to this
release this was one of the reasons Windows NT
could be faster in some situations. Samba has
now been benchmarked as out performing Windows
NT on equivalently priced hardware.

The oplock code in Samba has been extensively
tested and is believed to be completely stable.

Please report any problems to the samba-bugs alias.

2). NetBIOS name daemon re-written.
-----------------------------------

The old nmbd that has caused some users problems
has now been completely re-written and now is
much easier to maintain and add changes to.

Changes include support for multi-homed hosts
in the same way as an NT Server with multiple
IP interfaces behaves (registers with the WINS
server as a multi-homed name type), and also
support for multi-homed name registration in
the Samba WINS server. Another added feature
is robustness in the face of WINS server failure,
nmbd will now keep trying to contact the WINS 
server until it is successful, in the same
way as an NT Server.

Also in this release is an implementation
of the Lanman announce protocol used by
OS/2 clients. Thanks to Jacco de Leeuw for 
this code.

3). New Internationalization support.
-------------------------------------

With this release Samba no longer needs to be
separately compiled for Japanese (Kanji) support,
the same binary will serve both Kanji and non-Kanji
clients.

A new method of dynamically loading client code pages
has been added to allow the case insensitivity to
be done dependent on the code page of the client.

Note that Samba still will only handle one client
code page at a time. This will be fixed when
Samba is fully UNICODE enabled.

Please see the new man page for make_smbcodepage
for details on adding additional client code page
support.


Changed code.
-------------

Samba no longer needs the libdes library to support
encrypted passwords. Samba now contains a restricted
version of DES that can only be used for authentication
purposes (to comply with the USA export encryption
regulations and to allow USA Mirror sites to carry
Samba source code). The 'encrypt passwords' parameter
may now be used without recompiling.

Much of the internals of Samba has been re-structured
to support the oplock and Domain controller changes.

An implementation of the Windows 95 automatic printer
driver installation has been added to smbd. To use this
new feature please read the document:

docs/PRINTER_DRIVER.txt 

Thanks to Jean-Francois Micouleau for this new code.

Printer support on System V systems (notably Solaris)
has been improved with the addition of code generously
donated by Norm Jacobs of Sun Microsystems. Sun have
also made a Solaris SPARC workstation available to the
Samba Team to aid in their porting efforts.

Samba now contains an implementation of share modes
using System V shared memory as well as the mmap()
based code. This was done to allow the 'FAST_SHARE_MODES'
to be used on more systems (especially HPUX 9.x) that
have System V shared memory, but not the mmap() call.

The System V shared memory code is used by default on
many systems as it has benchmarked as faster on many
systems.

The Automount code has been slightly re-shuffled, such
that the home directory (and profile location) can be
specified by \\%N\homes and \\%N\homes\profiles
respectively, which are the defaults for these values.
If -DAUTOMOUNT is enabled, then %N is the server
component of the user's NIS auto.home entry.  Obviously,
you will need to be running Samba on the user's home
server as well as the one they just logged in on.

The RPC Domain code has been moved into a separate directory
rpc_pipe/, and a LGPL License issued specifically for code
in this directory.  This is so that people can use this
code in other projects.

Missing feature.
----------------

One feature that we wanted to get into this release
that was not possible due to the re-write of the nmbd
code was the scalability features in the Samba WINS server.
This feature is now tentatively scheduled for the next
release (1.9.19). Apologies to anyone who was hoping
for this feature to be included. The nmbd re-write
will make it much easier to add such things in future.

New parameters in smb.conf.
---------------------------

New Global parameters.
----------------------

Documented in the smb.conf man pages :

	"bind interfaces only"

        "lm announce"
        "lm interval"

	"logon drive"
	"logon home"

        "min wins ttl"
        "max wins ttl"

	"username level"

New Share level parameters.
---------------------------

Documented in the smb.conf man pages :

	"delete veto files"
	"oplocks"

Nascent web interface for configuration.
----------------------------------------

source/wsmbconf.c is a cgi-bin program for editing smb.conf. It can
also be run standalone. This is in a very early stage of development.

Debugging support.
------------------

smbd and nmbd will now modify their debug log level when
they receive a USR1 signal (increase debug level by one)
and USR2 signal (decrease debug level by one). This has
been added to aid administrators track down faults that
only occur after long periods of time, or transiently.

Reporting bugs.
---------------

If you have problems, or think you have found a
bug please email a report to :

	samba-bugs@samba.anu.edu.au

Please state the version number of Samba that
you are running, and *full details* of the steps
we need to reproduce the problem.

As always, all bugs are our responsibility.

Regards,

	The Samba Team.

