          WHATS NEW IN 1.9.18alpha6 Oct 26th 1997
          =======================================

This is NOT a production release of Samba code.
For production servers please run Samba 1.9.17p4
or later releases in the 1.9.17 series.

This release contains some experimental features and
changes and is being made available so people can
test and provide feedback and patches for ongoing
Samba development.

Please note that only the Domain controller code
is truly experimental. The other changes have
been extensively tested and are of the same
quality as normal Samba alpha releases. The
Domain controller code is disabled in the Makefile
by default and is being made available to Samba
programmers in the interests of advancing a 
public implementation of this important protocol.

This release contains three major changes to the 
1.9.17 series and much re-written code.


The main changes are :

1). Oplock support now operational.
-----------------------------------

Samba now supports 'exclusive' and 'batch' oplocks.
These are an advanced networked file system feature
that allows clients to obtain a exclusive use of a 
file. This allows a client to cache any changes it
makes locally, and greatly improves performance.

Windows NT has this feature and prior to this
release this was one of the reasons Windows NT
could be faster in some situations.

The oplock code in Samba has been extensively
tested and is believed to be completely stable.

Please report any problems to the samba-bugs alias.


2). Experimental Primary Domain controller code.
------------------------------------------------

Samba now contains a *VERY* experimental client and
server implementation of part of the Windows NT
4.x Domain Controller specification, as
published by Paul Ashton (now a Samba Team
member).

This code is not enabled in the Makefile by default,
and to work on this code you must read the file :

   docs/NTDOMAIN.txt

Please note that as this code is not complete,
it is being made available as part of this release
to allow interested parties to contribute and help
the Samba Team in documenting and implementing
this important feature.

Please do not expect to be able to replace your
NT Domain Controllers with Samba until this code
is finished, tested and an announcement is made.

At present the Domain Controller code is for 
programmers and people interested in Microsoft 
protocols only.


3). New Internationalization support.
-------------------------------------

With this release Samba no longer needs to be
separately compiled for Japanese (Kanji) support,
the same binary will serve both Kanji and non-Kanji
clients.

A new method of dynamically loading client code pages
has been added to allow the case insensitivity to
be done dependent on the code page of the client.

Note that Samba still will only handle one client
code page at a time. This will be fixed when
Samba is fully UNICODE enabled.

Please see the new man page for make_smbcodepage
for details on adding additional client code page
support.


Changed code.
-------------

Samba no longer needs the libdes library to support
encrypted passwords. Samba now contains a restricted
version of DES that can only be used for authentication
purposes (to comply with the USA export encryption
regulations and to allow USA Mirror sites to carry
Samba source code). The 'encrypt passwords' parameter
may now be used without recompiling.

Much of the internals of Samba has been re-structured
to support the oplock and Domain controller changes.

The WINS client and WINS server capabilities in nmbd
are also being restructured, to make it easier to
understand and maintain.

Samba supports the NT 3.51 and 4.0 Domain Authentication
Protocol to a degree sufficient to download Profiles to an
NT 3.51 or 4.0 Workstation ("Welcome to the SAMBA Domain").

There is also code in smbclient to generate the same
requests as an NT Workstation would when doing an NT
Domain Logon.  This has only been tested against a Samba
"Experimental" PDC so far.

Some of the new parameters for NT Domain Logons and
Profile support are now also used by the Win95 Domain
Logons and Profile support.

The Automount code has been slightly reshuffled, such
that the home directory (and profile location) can be
specified by \\%N\homes and \\%N\homes\profiles
respectively, which are the defaults for these values.
If -DAUTOMOUNT is enabled, then %N is the server
component of the user's NIS auto.home entry.  Obviously,
you will need to be running Samba on the user's home
server as well as the one they just logged in on.


New parameters in smb.conf.
---------------------------

New Global parameters.
----------------------

Documented in the smb.con man pages :

"bind interfaces only"
"username level"

"domain sid"
"domain groups"

"logon drive"
"logon home"


Not yet documented in the smb.conf man page, please 
read docs/NTDOMAIN.txt or examine the source code for
information on the next parameters :

"domain other sids"
"domain admin users"
"domain guest users"


New Share level parameters.
---------------------------

Documented in the smb.con man pages :

"delete veto files"
"oplocks"


Reporting bugs.
---------------

If you have problems, or think you have found a
bug please email a report to :

samba-bugs@samba.anu.edu.au

Please state the version number of Samba that
you are running, and *full details* of the steps
we need to reproduce the problem.

As always, all bugs are our responsibility.

Regards,

	The Samba Team.

