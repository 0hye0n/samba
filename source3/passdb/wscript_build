#!/usr/bin/env python

PDB_STATIC =        ''
PDB_TDBSAM_SRC =    'pdb_tdb.c'
PDB_LDAP_SRC =      'pdb_ldap.c pdb_nds.c'
PDB_ADS_SRC =       'pdb_ads.c'
PDB_SMBPASSWD_SRC = 'pdb_smbpasswd.c'
PDB_WBC_SAM_SRC =   'pdb_wbc_sam.c'

bld.SAMBA_SUBSYSTEM('PDB',
                    source='',
                    deps='''PDB_TDBSAM PDB_LDAP PDB_ADS PDB_SMBPASSWD PDB_WBC_SAM''',
                    vars=locals())

bld.SAMBA_MODULE('PDB_TDBSAM',
                 subsystem='PDB',
                 source=PDB_TDBSAM_SRC,
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('PDB_TDBSAM'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('PDB_TDBSAM'))

bld.SAMBA_MODULE('PDB_LDAP',
                 subsystem='PDB',
                 source=PDB_LDAP_SRC,
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('PDB_LDAP'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('PDB_LDAP'))

bld.SAMBA_MODULE('PDB_ADS',
                 subsystem='PDB',
                 source=PDB_ADS_SRC,
                 deps='LIBCLI_LDAP_NDR',
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('PDB_ADS'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('PDB_ADS'))

bld.SAMBA_MODULE('PDB_SMBPASSWD',
                 subsystem='PDB',
                 source=PDB_SMBPASSWD_SRC,
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('PDB_SMBPASSWD'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('PDB_SMBPASSWD'))

bld.SAMBA_MODULE('PDB_WBC_SAM',
                 subsystem='PDB',
                 source=PDB_WBC_SAM_SRC,
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('PDB_WBC_SAM'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('PDB_WBC_SAM'))
