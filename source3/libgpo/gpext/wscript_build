#!/usr/bin/env python

GPEXT_REGISTRY_SRC = 'registry.c'
GPEXT_SCRIPTS_SRC = 'scripts.c'
GPEXT_SECURITY_SRC = 'security.c'

GPEXT_SRC = '''../../../libgpo/gpext/gpext.c'''

bld.SAMBA_SUBSYSTEM('GPEXT',
                    source=GPEXT_SRC,
                    deps='''GPEXT_REGISTRY GPEXT_SCRIPTS GPEXT_SECURITY''',
                    vars=locals())

bld.SAMBA_MODULE('GPEXT_REGISTRY',
                 subsystem='GPEXT',
                 source=GPEXT_REGISTRY_SRC,
                 deps='NDR_PREG',
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('GPEXT_REGISTRY'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('GPEXT_REGISTRY'))

bld.SAMBA_MODULE('GPEXT_SCRIPTS',
                 subsystem='GPEXT',
                 source=GPEXT_SCRIPTS_SRC,
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('GPEXT_SCRIPTS'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('GPEXT_SCRIPTS'))

bld.SAMBA_MODULE('GPEXT_SECURITY',
                 subsystem='GPEXT',
                 source=GPEXT_SECURITY_SRC,
                 init_function='',
                 internal_module=bld.SAMBA3_IS_STATIC_MODULE('GPEXT_SECURITY'),
                 enabled=bld.SAMBA3_IS_ENABLED_MODULE('GPEXT_SECURITY'))
