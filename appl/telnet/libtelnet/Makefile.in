# $Id$

srcdir		= @srcdir@
top_srcdir	= @top_srcdir@
VPATH		= @srcdir@

SHELL		= /bin/sh

CC = @CC@
AR = ar
RANLIB = @RANLIB@
DEFS = @DEFS@
CFLAGS = @CFLAGS@

prefix = @prefix@
exec_prefix = $(prefix)
libdir = $(exec_prefix)/lib

LIBOBJS=@LIBOBJS@

SOURCES=auth.c encrypt.c genget.c \
	misc.c kerberos.c kerberos5.c forward.c spx.c enc_des.c \
	rsaencpwd.c krb4encpwd.c read_password.c \
	getent.c herror.c memmove.c setenv.c strcasecmp.c \
	strchr.c strdup.c strerror.c strftime.c strrchr.c

OBJECTS=auth.o encrypt.o genget.o enc_des.o misc.o kerberos.o read_password.o \
	$(LIBOBJS)

all: libtelnet.a

libtop = @libtop@

.c.o:
	$(CC) -c $(CPPFLAGS) $(CFLAGS) $(DEFS) \
	@KRBINCPATH@ -I.. -I$(srcdir)/.. $<

libtelnet.a: $(OBJECTS)
	$(AR) cr libtelnet.a $(OBJECTS)
	$(RANLIB) libtelnet.a

install:
	@echo "Nothing to install in libtelnet"

clean cleandir:
	rm -f *.o *.a \#* *~ core

distclean: clean
	rm -f Makefile *~
	rm -rf CVS
